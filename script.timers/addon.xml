<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<addon id="script.timers" name="Timers" version="3.4.0" provider-name="Heckie">
  <requires>
    <import addon="xbmc.python" version="3.0.0" />
  </requires>
  <extension point="xbmc.service" library="addon.py" />
  <extension point="xbmc.python.script" library="script.py" />
  <extension point="kodi.context.item">
    <menu id="kodi.core.main">
      <item library="context_setsleep.py">
        <label>32004</label>
        <visible>true</visible>
      </item>
      <item library="context_setsnooze.py">
        <label>32005</label>
        <visible>true</visible>
      </item>
      <item library="context_settimer.py">
        <label>32000</label>
        <visible>true</visible>
      </item>
      <item library="context_setquickepgtimer.py">
        <label>32117</label>
        <visible>Window.IsVisible(tvguide)|Window.IsVisible(radioguide)</visible>
      </item>
    </menu>
  </extension>
  <extension point="xbmc.addon.metadata">
    <summary lang="en_GB">Timers</summary>
    <summary lang="de_DE">Timers</summary>
    <description lang="en_GB">A powerful timer addon with the following features
* Unlimited timer slots. All of them can be quickly set up by using context menu
* single-click-setup for sleep and doze timers
* Timers can play any resource that it available in Kodi, e.g. music folders, video files, TV/radio programs, slideshows, ressources from 3rd party plugins, e.g. Zattoo channels.
* Timers can be set from TV / Radio EPG, One-click-setup from epg (Quick Timer)
* Different schedule modes: once, everyday, Mon-Fri, Fri-Sat, Sat-Sun, Sun-Thu, Mon-Thu, specific weekday and many more
* Date change is supported, e.g. from 23:30 (p.m.) until 1:30 (a.m.)
* Shuffle, repeat, 2 end modes, i.e. duration or specific time
* Actions related to media: start media and stop at end, just start media, start media at end, stop media immediately, stop media at end, powerdown system
* Linear fading in timer period: fade-in, fade-out, no fading. Min and max volume can be set for each timer
* Custom label for timer
* After KODI startup timers, that are in period, start retroactivly although KODI was not running at start time. Fading volume is calculated correctly.
* Feature in order to prevent that display is turned off if Kodi idles but is not in fullscreen mode
* MS Windows only: Feature in order to prevent that Windows displays lock screen if Kodi idles
    </description>
    <description lang="de_DE">Timer Addon mit folgenden Funktionen
* 15 Timer, die eingestellt werden können. Alle Timer können über das Kontextmenü geöffnet werden
* 2 zusätzliche Timer für "Einschlaf"- und "Schlummer"-Timer mit nur einem Klick 
* Timer können alle Medien starten, die in Kodi sind wie Musik, Video, TV/Radio programme, Diashows, andere Addons, z.B. Zattoo. 
* Einstellung mit nur einem Klick aus EPG (Quick Timer)
* Verschiedene Zeitplanungen möglich: einmalig, pro Wochentag, Mo-Fr, Fr-Sa, Sa-So, So-Do, Mo-Do u.v.m.
* Tageswechsel wird unterstützt, z.B. Timer von 23:30 bis 1:30 am nächsten Tag
* Dauer kann über Zeitraum oder Zeitpunkt eingestellt werden
* Aktionen mit Medien: starte Wiedergabe und beende diese nach Ablauf, starte Wiedergabe, starte Wiedergabe bei Ablauf, stoppe Wiedergabe sofort, stoppe Wiedergabe nach Ablauf, fahre System herunter
* Lautstärke während der Laufzeit ein-/ausblenden. Einstellung pro Timer mit max. und minimaler Lautstärke
* Beschriftung der Timer
* Nachdem Kodi startet, werden aktive Timer ebenfalls gestartet.
* Feature um Kodi darin zu hindern den Bildschirm abzuschalten, wenn Kodi nicht im Vollbildmodus ist
* MS Windows: Feature um Windows daran zu hindern in den Sperrbildschirm zu schalten, während Kodi keine Medien abspielt 
    </description>
    <language>en</language>
    <language>de</language>
    <platform>all</platform>
    <license>MIT</license>
    <website>https://github.com/Heckie75/kodi-addon-timers</website>
    <source>https://github.com/Heckie75/kodi-addon-timers</source>
    <news>
v3.4.0 (2023-01-10)
- New feature: Media action in order to pause audio or video, feature request #21
- Refactoring: moved state to timer object
- Reorganized setting levels (simple, standard, advanced, expert)
- Introduced logging (see kodi.log)

v3.3.1 (2022-11-26)
- Bugfix: scheduled timers stop working that are scheduled after Sunday (week change Sun -> Mon)
- Refactoring

v3.3.0 (2022-10-08)
- Improved scheduler that enables scheduling to the second, reduces CPU load on idle and enables smoother fading
- Added fields for start and end time in order to schedule to the second (expert only)
- Fixed Zattoo PVR support and other audio/video addons

v3.2.0 (2022-08-27)
- Unlimited amount of timers
- Added feature in order to pause timers for a certain period
- Set adequate label for playing items instead of internal path
- Added global configurable offset in order to perform timers ahead of time or later in time
- Changed context menu 'timers' for EPG
- Snooze timer can resume playing media and be started from any context menu
- Changed resume behaviour if there are two parallel ending timers so that non-resuming timer wins and stops media
- Added dialog in order to abort system action
- Added help texts for all settings
    </news>
    <assets>
      <icon>resources/assets/icon.png</icon>
      <fanart>resources/assets/fanart.png</fanart>
      <screenshot>resources/assets/screenshot_01.png</screenshot>
      <screenshot>resources/assets/screenshot_02.png</screenshot>
      <screenshot>resources/assets/screenshot_03.png</screenshot>
      <screenshot>resources/assets/screenshot_04.png</screenshot>
      <screenshot>resources/assets/screenshot_05.png</screenshot>
      <screenshot>resources/assets/screenshot_06.png</screenshot>
      <screenshot>resources/assets/screenshot_07.png</screenshot>
      <screenshot>resources/assets/screenshot_08.png</screenshot>
      <screenshot>resources/assets/screenshot_09.png</screenshot>
      <screenshot>resources/assets/screenshot_10.png</screenshot>
    </assets>
  </extension>
</addon>
